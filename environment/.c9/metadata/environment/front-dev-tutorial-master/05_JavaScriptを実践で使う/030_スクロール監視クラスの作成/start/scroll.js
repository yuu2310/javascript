{"filter":false,"title":"scroll.js","tooltip":"/front-dev-tutorial-master/05_JavaScriptを実践で使う/030_スクロール監視クラスの作成/start/scroll.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":0,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["class ScrollObserver {","    constructor(els, cb, options){","        this.els = document.querySelectorAll(els);","        const defaultOptions = {","            root: null,","            rootMargin: \"0px\",","            threshold: 0,","            once: true","        };","        this.cb = cb;","        this.options = Object.assign(defaultOption, options);","        this.once = this.options.once;","        this._init();","    }","    ","    _init(){","        const callback = function (entries, observer) {","            entries.forEach(entry => {","                if (entry.isIntersecting) {","                    this.cb(entry.target, true);","                    if (this.once){","                        observer.unobserve(entry.target);","                    }","                } else {","                    this.cb(entry.target, false);","                }","            });","        };","        this.io = new IntersectionObserver(callback.bind(this), this.options);","        ","        this.io.POLL_INTERVAL = 100;","        this.els.forEach(el => this.io.observe(el));","    }","    ","    destroy(){","        this.io.disconnect();","    }","}",""],"id":1}],[{"start":{"row":10,"column":50},"end":{"row":10,"column":51},"action":"insert","lines":["s"],"id":12}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":51},"end":{"row":10,"column":51},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1673145647787,"hash":"ca982d662e701b140f4d67f9a8a8b49648d3809a"}